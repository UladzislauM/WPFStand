<Window x:Class="TestStandApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:notifications="clr-namespace:TestStandApp.ViewModels.Notifications" 
        xmlns:local="clr-namespace:TestStandApp.Buisness"
        xmlns:toolkit="clr-namespace:System.Windows.Controls;assembly=WPFToolkit"
        Title="MainWindow" Height="450" Width="800">
    <Window.DataContext>
        <notifications:StandViewModel/>
    </Window.DataContext>

    <Window.Resources>
        <Style x:Key="ImageBorderStyle" TargetType="Border">
            <Setter Property="BorderBrush" Value="Black" />
            <Setter Property="BorderThickness" Value="4" />
        </Style>
        <local:ByteArrayToImageConverter x:Key="ImageConverter"/>
    </Window.Resources>

    <Grid>
        <Border Style="{StaticResource ImageBorderStyle}" Margin="162,53,140,55">
            <!--<Image x:Name="myImage"
               Source="{Binding ImageBytes, 
            Converter={StaticResource ImageConverter}}" RenderTransformOrigin="0.5,0.5"/>-->
            <ItemsControl ItemsSource="{Binding ImageCollection}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Image Source="{Binding}" />
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Border>
        <Button Content="Start scan"
                HorizontalAlignment="Left" 
                Margin="10,53,0,0"
                VerticalAlignment="Top"
                Width="133" Height="42"
                Command="{Binding StartScan}"/>
    </Grid>
</Window>
